---
description: Active when Code Mode is used
globs:
alwaysApply: false
---

# ðŸ§ª CODE MODE - VALIDATION RULES

**ðŸš¨ CRITICAL: Validation is MANDATORY after EVERY code change. NO EXCEPTIONS.**

## RULE CHAIN CONTEXT
- **Parent Rule**: `.cursor/rules/modes/code-mode.mdc` (Always Active in Code Mode)
- **Chained With**: `implementation.mdc`, testing rules
- **Active When**: Code Mode is active and ANY code change has been made

---

## MANDATORY VALIDATION PROTOCOL

### IMMEDIATE VALIDATION - AFTER EVERY CHANGE:
1. âœ… **SYNTAX VALIDATION** - Code MUST compile/parse without errors
2. âœ… **FUNCTIONAL VALIDATION** - Code MUST perform intended functionality  
3. âœ… **INTEGRATION VALIDATION** - Code MUST work with existing system
4. âœ… **PERFORMANCE VALIDATION** - Code MUST NOT degrade performance
5. âœ… **SECURITY VALIDATION** - Code MUST follow security best practices

### VALIDATION FREQUENCY - ABSOLUTE REQUIREMENTS:
- ðŸš« **NEVER proceed without validation** - Validate EVERY single change immediately
- âœ… **Before Mode Transition** - Complete comprehensive validation before handoff
- âœ… **Before User Feedback** - ALL changes MUST be validated before user review
- âœ… **Before Memory Updates** - Validate before updating `.memory/task_subtasks.md`

### VALIDATION EXECUTION METHODS

#### SYNTAX VALIDATION - MANDATORY FIRST STEP:
- âœ… **Run `pnpm test`** - Execute full test suite immediately after changes
- âœ… **TypeScript Compilation** - Verify all TypeScript compiles without errors
- âœ… **ESLint Validation** - Run `pnpm lint` to ensure code quality standards
- âœ… **Import Resolution** - Verify all imports resolve correctly
- ðŸš« **NEVER run `pnpm dev` or `npm dev`** - User likely has development server running

#### FUNCTIONAL VALIDATION - VERIFY BEHAVIOR:
- âœ… **Manual Testing** - Physically test the implemented functionality in browser/app
- âœ… **Edge Case Testing** - Test boundary conditions and error scenarios
- âœ… **User Flow Testing** - Verify complete user workflows work end-to-end
- âœ… **API Testing** - Test all API endpoints and data flows if applicable

#### INTEGRATION VALIDATION - SYSTEM COHERENCE:
- âœ… **Component Integration** - Verify new code works with existing components
- âœ… **State Management** - Ensure state updates work correctly across the system
- âœ… **Route Testing** - Test navigation and routing if web application
- âœ… **Database Integration** - Verify database operations if applicable

#### PERFORMANCE VALIDATION - NO DEGRADATION:
- âœ… **Load Time Impact** - Measure page/component load time changes
- âœ… **Memory Usage** - Monitor for memory leaks or excessive usage
- âœ… **Bundle Size** - Check for significant bundle size increases
- âœ… **Runtime Performance** - Verify no performance regressions

#### SECURITY VALIDATION - PROTECTION MAINTAINED:
- âœ… **Input Sanitization** - Verify all user inputs are properly sanitized
- âœ… **Authentication** - Ensure access controls remain intact
- âœ… **Data Exposure** - Check for accidental data leaks or exposure
- âœ… **Dependency Security** - Verify no new security vulnerabilities introduced

### VALIDATION COMMANDS - EXECUTE THESE:

#### REQUIRED TEST COMMANDS: